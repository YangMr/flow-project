import{r as e,D as a,o as l,c as t,w as s,g as i,d as u,e as o,E as r,G as n,u as d,z as p}from"./index-3a6de0df.js";import{_ as c}from"./uni-file-picker.40ce9869.js";import{o as m,r as f}from"./uni-fetch.7884c55d.js";import{b as v}from"./task.e13406f2.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";const _=g({__name:"index",setup(g){const _=e("");m((e=>{_.value=e.id}));const j=e([]),x=e([]),b=a((()=>j.value.map((e=>({url:e.url}))))),h=a((()=>x.value.map((e=>({url:e.url}))))),V=a((()=>b.value.length>0&&h.value.length>0)),k=async()=>{try{const e={id:_.value,deliverPictureList:b.value,certificatePictureList:h.value};await v(e);n({url:"/pages/task/index"})}catch(e){console.log(e)}};return(e,a)=>{const n=f(d("uni-file-picker"),c),m=i,v=p;return l(),t(m,{class:"page-container"},{default:s((()=>[u(m,{class:"receipt-info"},{default:s((()=>[u(n,{"file-extname":"jpg,webp,gif,png",title:"请拍照上传回单凭证",limit:"3",modelValue:j.value,"onUpdate:modelValue":a[0]||(a[0]=e=>j.value=e)},null,8,["modelValue"]),u(n,{"file-extname":"jpg,webp,gif,png",title:"请拍照上传货品照片",limit:"3",modelValue:x.value,"onUpdate:modelValue":a[1]||(a[1]=e=>x.value=e)},null,8,["modelValue"])])),_:1}),u(v,{onClick:k,disabled:!r(V),class:"button"},{default:s((()=>[o("提交")])),_:1},8,["disabled"])])),_:1})}}},[["__scopeId","data-v-e6f4adc6"]]);export{_ as default};
