"use strict";const e=require("../../../common/vendor.js"),a=require("../../../api/task.js");require("../../../api/uni-fetch.js"),require("../../../stores/user.js");const s={__name:"pickup",setup(s){const t=e.ref([]),u=e.ref({page:0,pageSize:5,status:1}),r=e.ref(!1),l=e.ref(!1),n=e.ref(!1),i=async()=>{try{u.value.page++;const e=await a.getTasks(u.value);console.log("results==>",e),1===u.value.page&&(t.value=[]),t.value=[...t.value,...e.data.items||[]],l.value=u.value.page==e.data.pages,n.value=t.value.length<=0}catch(e){console.log(e)}};e.onLoad((()=>{i()}));const o=()=>{l.value||i()},p=async()=>{r.value=!0,u.value.page=0,await i(),r.value=!1};return(a,s)=>e.e({a:e.f(t.value,((a,s,t)=>e.e({a:e.t(a.transportTaskId),b:e.t(a.startAddress),c:e.t(a.endAddress),d:`/subpkg_task/detail/index?id=${a.id}`,e:e.t(a.planDepartureTime),f:a.enablePickUp},a.enablePickUp?{g:`/subpkg_task/pickup/index?id=${a.id}`}:{},{h:s}))),b:n.value},(n.value,{}),{c:r.value,d:e.o(p),e:e.o(o)})}};wx.createComponent(s);
